# ============================================
# QKD System Environment Configuration
# ============================================
# Copy this file to .env and update the values
# DO NOT commit the actual .env file to git

# ============================================
# ENVIRONMENT SETTINGS
# ============================================
# Options: development, staging, production
QKD_ENV=development
DEBUG_MODE=true

# ============================================
# SECURITY SETTINGS
# ============================================
# Generate a strong secret key for production:
# python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your_secret_key_here_change_in_production

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Main QKD Database
DB_HOST=localhost
DB_PORT=3307
DB_NAME=qkd
DB_USER=root
DB_PASSWORD=

# Machine Learning Database
ML_DB_HOST=localhost
ML_DB_PORT=3307
ML_DB_NAME=qkd_ml
ML_DB_USER=root
ML_DB_PASSWORD=

# MySQL Root Password (for Docker)
MYSQL_ROOT_PASSWORD=

# ============================================
# LLM (OLLAMA) CONFIGURATION
# ============================================
# Ollama API endpoint
LOCAL_LLM_API=http://localhost:11434
OLLAMA_PORT=11434

# LLM Model Selection
LOCAL_LLM_MODEL=qwen2:7b-instruct-q4_0
# Alternative models: llama2:7b, mistral:7b-instruct

# LLM Parameters
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.9
LLM_TOP_K=40
LLM_MAX_TOKENS=2048

# ============================================
# MCP (BLUE PLANET) CONFIGURATION
# ============================================
# Ciena Blue Planet MCP API
MCP_BASE_URL=https://10.1.1.3
MCP_USERNAME=admin
MCP_PASSWORD=adminpw
MCP_VERIFY_SSL=false

# ============================================
# FLASK CONFIGURATION
# ============================================
FLASK_PORT=5000
FLASK_ENV=development
FLASK_DEBUG=true

# Session Configuration
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_TIMEOUT_MINUTES=30

# ============================================
# EMAIL CONFIGURATION
# ============================================
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_app_specific_password
MAIL_DEFAULT_SENDER=noreply@qkdsystem.com

# ============================================
# REDIS CONFIGURATION (Optional)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# ML MODEL CONFIGURATION
# ============================================
# Embedding Model
EMBEDDING_MODEL_NAME=sentence-transformers/all-mpnet-base-v2
EMBEDDING_DIMENSION=768

# ML Training Parameters
MODEL_CONTAMINATION=0.03
MODEL_RANDOM_STATE=42
MINIMUM_TRAINING_SAMPLES=100

# Confidence Thresholds
CONFIDENCE_THRESHOLD=0.5
ANOMALY_THRESHOLD=0.8

# ============================================
# QKD OPERATIONAL THRESHOLDS
# ============================================
# QBER (Quantum Bit Error Rate) - Maximum acceptable
QKD_QBER_MAX_THRESHOLD=0.05

# Key Rate - Minimum acceptable (bits/second)
QKD_KEY_RATE_MIN_THRESHOLD=1000

# Visibility - Minimum acceptable
QKD_VISIBILITY_MIN_THRESHOLD=0.90

# Temperature - Maximum acceptable (Celsius)
QKD_TEMPERATURE_MAX_THRESHOLD=40

# CPU Load - Maximum acceptable (percentage)
QKD_CPU_MAX_THRESHOLD=80

# Memory Usage - Maximum acceptable (percentage)
QKD_MEMORY_MAX_THRESHOLD=85

# ============================================
# SEARCH & RAG CONFIGURATION
# ============================================
# Hybrid Search Weights
SEMANTIC_SEARCH_WEIGHT=0.8
KEYWORD_SEARCH_WEIGHT=0.2

# Search Parameters
MAX_SEARCH_RESULTS=10
RERANKING_ENABLED=true
RERANKER_TOP_K=5

# Context Window
MAX_CONTEXT_LENGTH=4096
CHUNK_SIZE=512
CHUNK_OVERLAP=50

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_MAX_SIZE_MB=100
LOG_FILE_BACKUP_COUNT=10
LOG_TO_CONSOLE=true
LOG_TO_FILE=true

# ============================================
# PERFORMANCE TUNING
# ============================================
# Worker Configuration (for production)
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=120

# Database Connection Pool
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ============================================
# DOCKER SPECIFIC
# ============================================
# Container Resource Limits
CONTAINER_MEMORY_LIMIT=4G
CONTAINER_CPU_LIMIT=2.0

# Volume Paths (inside containers)
MODELS_PATH=/app/Dashboard/models
DATA_PATH=/app/data
LOGS_PATH=/app/logs
UPLOADS_PATH=/app/uploads
CACHE_PATH=/app/cache

# ============================================
# MONITORING & HEALTH CHECKS
# ============================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=30
METRICS_ENABLED=true
METRICS_PORT=9090

# ============================================
# BACKUP CONFIGURATION
# ============================================
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/backups

# ============================================
# GPU CONFIGURATION (Optional)
# ============================================
# Enable GPU support for ML models
USE_GPU=false
CUDA_VISIBLE_DEVICES=0
GPU_MEMORY_FRACTION=0.8

# ============================================
# API RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_CHATBOT=true
ENABLE_VOICE_RECOGNITION=true
ENABLE_FAULT_DETECTION=true
ENABLE_FORECASTING=true
ENABLE_RAG_SYSTEM=true
ENABLE_MCP_INTEGRATION=true

# ============================================
# DEVELOPMENT SETTINGS
# ============================================
# Only used in development mode
DEV_AUTO_RELOAD=true
DEV_VERBOSE_LOGGING=true
DEV_MOCK_MCP=false
DEV_SKIP_AUTH=false